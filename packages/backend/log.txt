
> @linos/backend@1.0.0 pretest:integration
> DATABASE_URL=file:./test.db yarn prisma migrate deploy

yarn run v1.22.22
$ /Users/wagner/Projetos/Linos/MVP7/node_modules/.bin/prisma migrate deploy
Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": SQLite database "test.db" at "file:./test.db"

1 migration found in prisma/migrations


No pending migrations to apply.
Done in 0.64s.

> @linos/backend@1.0.0 test:integration
> ts-node scripts/setup-test-env.ts && jest --config jest.integration.config.js src/pedidos/__tests__/pedidos.integration.spec.ts

Environment variables loaded from .env
Prisma schema loaded from prisma/schema.prisma
Datasource "db": SQLite database "test.db" at "file:/Users/wagner/Projetos/Linos/MVP7/packages/backend/test.db"

SQLite database test.db created at file:/Users/wagner/Projetos/Linos/MVP7/packages/backend/test.db

1 migration found in prisma/migrations

Applying migration `20250220041725_init`

The following migration(s) have been applied:

migrations/
  └─ 20250220041725_init/
    └─ migration.sql
      
All migrations have been successfully applied.
  console.log
    prisma:info Starting a sqlite pool with 21 connections.

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:info Starting a sqlite pool with 21 connections.

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:info Starting a sqlite pool with 21 connections.

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Setup failed: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      41 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      42 |   } catch (error) {
    > 43 |     console.error('Setup failed:', error);
         |             ^
      44 |     throw error;
      45 |   }
      46 | });

      at Object.<anonymous> (test/setup-integration.ts:43:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

  console.log
    prisma:query PRAGMA foreign_keys = OFF;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query BEGIN IMMEDIATE

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query DELETE FROM ItensPedido;

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:query ROLLBACK

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.log
    prisma:error Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at Object.mc (../../node_modules/@prisma/client/runtime/library.js:21:432)

  console.error
    Erro ao limpar o banco de dados: PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:
    
    
    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`
        at $n.handleRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:7315)
        at $n.handleAndLogRequestError (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6623)
        at $n.request (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:121:6307)
        at l (/Users/wagner/Projetos/Linos/MVP7/node_modules/@prisma/client/runtime/library.js:130:9633) {
      code: 'P2010',
      clientVersion: '5.22.0',
      meta: { code: '1', message: 'no such table: ItensPedido' }
    }

      58 |     await prismaService.$executeRaw`PRAGMA foreign_keys = ON;`;
      59 |   } catch (error) {
    > 60 |     console.error('Erro ao limpar o banco de dados:', error);
         |             ^
      61 |     throw error;
      62 |   }
      63 | });

      at Object.<anonymous> (test/setup-integration.ts:60:13)

FAIL src/pedidos/__tests__/pedidos.integration.spec.ts
  Pedidos Integration Tests
    /pedidos (POST)
      ✕ should create pedido (4 ms)
      ✕ should return 404 if cliente not found (2 ms)
      ✕ should return 404 if produto not found (2 ms)
    /pedidos (GET)
      ✕ should list pedidos with pagination (2 ms)
      ✕ should filter pedidos by date range (3 ms)
      ✕ should filter pedidos by cliente (2 ms)
      ✕ deve retornar metadados de paginação corretos (2 ms)
    /pedidos/:id (GET)
      ✕ should get pedido by id (2 ms)
      ✕ should return 404 if pedido not found (2 ms)
    /pedidos/:id (DELETE)
      ✕ should soft delete pedido (2 ms)
      ✕ should return 404 if pedido not found (1 ms)
    /pedidos/:id (PATCH)
      ✕ should update pedido status and generate new PDF (2 ms)
      ✕ should not generate new PDF if status is not changed (2 ms)
      ✕ should return 404 if pedido not found (1 ms)
      ✕ should return 400 if trying to update cancelled pedido (4 ms)
    /pedidos/:id/repeat (POST)
      ✕ should create new pedido based on existing one (3 ms)
      ✕ should return 404 if pedido not found (2 ms)
      ✕ should return 404 if the cliente of the original pedido was deleted (2 ms)
    /pedidos/:id/pdf (GET)
      ✕ should download pedido PDF (2 ms)
      ✕ should return 404 if pedido not found (2 ms)
      ✕ should return 404 if pedido PDF not found (2 ms)

  ● Pedidos Integration Tests › /pedidos (POST) › should create pedido

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (POST) › should create pedido

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (POST) › should return 404 if cliente not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (POST) › should return 404 if cliente not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (POST) › should return 404 if produto not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (POST) › should return 404 if produto not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (GET) › should list pedidos with pagination

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (GET) › should list pedidos with pagination

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (GET) › should filter pedidos by date range

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (GET) › should filter pedidos by date range

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (GET) › should filter pedidos by cliente

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (GET) › should filter pedidos by cliente

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (GET) › deve retornar metadados de paginação corretos

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos (GET) › deve retornar metadados de paginação corretos

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (GET) › should get pedido by id

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (GET) › should get pedido by id

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (GET) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (GET) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (DELETE) › should soft delete pedido

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (DELETE) › should soft delete pedido

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (DELETE) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (DELETE) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (PATCH) › should update pedido status and generate new PDF

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (PATCH) › should update pedido status and generate new PDF

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (PATCH) › should not generate new PDF if status is not changed

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (PATCH) › should not generate new PDF if status is not changed

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (PATCH) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (PATCH) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (PATCH) › should return 400 if trying to update cancelled pedido

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id (PATCH) › should return 400 if trying to update cancelled pedido

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/repeat (POST) › should create new pedido based on existing one

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/repeat (POST) › should create new pedido based on existing one

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/repeat (POST) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/repeat (POST) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/repeat (POST) › should return 404 if the cliente of the original pedido was deleted

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/repeat (POST) › should return 404 if the cliente of the original pedido was deleted

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/pdf (GET) › should download pedido PDF

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/pdf (GET) › should download pedido PDF

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/pdf (GET) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/pdf (GET) › should return 404 if pedido not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/pdf (GET) › should return 404 if pedido PDF not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

  ● Pedidos Integration Tests › /pedidos/:id/pdf (GET) › should return 404 if pedido PDF not found

    PrismaClientKnownRequestError: 
    Invalid `prisma.$executeRaw()` invocation:


    Raw query failed. Code: `1`. Message: `no such table: ItensPedido`

      at $n.handleRequestError (../../node_modules/@prisma/client/runtime/library.js:121:7315)
      at $n.handleAndLogRequestError (../../node_modules/@prisma/client/runtime/library.js:121:6623)
      at $n.request (../../node_modules/@prisma/client/runtime/library.js:121:6307)
      at l (../../node_modules/@prisma/client/runtime/library.js:130:9633)

Test Suites: 1 failed, 1 total
Tests:       21 failed, 21 total
Snapshots:   0 total
Time:        3.683 s
Ran all test suites matching /src\/pedidos\/__tests__\/pedidos.integration.spec.ts/i.
npm error Lifecycle script `test:integration` failed with error:
npm error code 1
npm error path /Users/wagner/Projetos/Linos/MVP7/packages/backend
npm error workspace @linos/backend@1.0.0
npm error location /Users/wagner/Projetos/Linos/MVP7/packages/backend
npm error command failed
npm error command sh -c ts-node scripts/setup-test-env.ts && jest --config jest.integration.config.js src/pedidos/__tests__/pedidos.integration.spec.ts
